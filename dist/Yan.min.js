/**
 *  @Name: Yan.js
 *  @Version: 1.9.5
 *  @Author: Yangfan
 *  @Ctime: 2017-11-27
 *  @Ptime: 2018-05-10
 *  @Update: 2018-05-12
 *  @Ref: 1. docCookie (https://developer.mozilla.org/en-US/docs/DOM/document.cookie LICENSE:GPL3.0+)
 *        2. axios (https://github.com/axios/axios LICENSE:MIT)
 *  @License: Released under the MIT License.
 *  @Github: https://github.com/Yangfan2016
 */
(function(e,t){if(typeof define==="function"&&define.amd){define(t)}else if(typeof exports==="object"&&typeof module!=="undefined"){}else{e.Yan=t()}})(this,function(){var n={doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",pdf:"application/pdf",zip:"application/zip",xml:"application/xml",js:"application/javascript",json:"application/json",txt:"text/plain",html:"text/html",css:"text/css",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",bmp:"image/bmp",webp:"image/webp",ico:"image/x-icon","img*":"image/*"};e("remove",function(){this.parentNode.removeChild(this)});e("getCss",function(e){return M(this,e)});e("setCss",function(e){R(this,e)});var t=Object.prototype.toString,r="[object Object]";function e(t,n){[HTMLDocument.prototype,Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){if(e.hasOwnProperty(t)){return}Object.defineProperty(e,t,{configurable:true,enumerable:true,writable:true,value:n})})}function o(e){return t.call(e).split(" ")[1].slice(0,-1)}function d(e){return typeof e==="undefined"}function f(e){return t.call(e)===r}function p(e){return typeof e==="function"}function m(e){return e instanceof Array}function a(e){return e===+e}function h(e){return e===""+e}function s(e){return e===!!e}function l(e){return typeof HTMLElement==="object"?e instanceof HTMLElement:typeof e==="object"&&e.nodeType==1&&typeof e.nodeName==="string"}function c(e,t,n){Object.defineProperty(e,t,{value:n})}function A(e){throw new Error(e)}function u(e,t){if(!document.styleSheets){return}if(document.getElementsByTagName("head").length==0){return}var n;var r;if(document.styleSheets.length>0){for(i=0;i<document.styleSheets.length;i++){if(document.styleSheets[i].disabled){continue}var o=document.styleSheets[i].media;r=typeof o;if(r=="string"){if(o==""||o.indexOf("screen")!=-1){styleSheet=document.styleSheets[i]}}else if(r=="object"){if(o.mediaText==""||o.mediaText.indexOf("screen")!=-1){styleSheet=document.styleSheets[i]}}if(typeof styleSheet!="undefined"){break}}}if(typeof styleSheet=="undefined"){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);for(i=0;i<document.styleSheets.length;i++){if(document.styleSheets[i].disabled){continue}styleSheet=document.styleSheets[i]}var o=styleSheet.media;r=typeof o}if(r=="string"){for(i=0;i<styleSheet.rules.length;i++){if(styleSheet.rules[i].selectorText&&styleSheet.rules[i].selectorText.toLowerCase()==e.toLowerCase()){styleSheet.rules[i].style.cssText=t;return}}styleSheet.addRule(e,t)}else if(r=="object"){var s=styleSheet.cssRules?styleSheet.cssRules.length:0;for(i=0;i<s;i++){if(styleSheet.cssRules[i].selectorText&&styleSheet.cssRules[i].selectorText.toLowerCase()==e.toLowerCase()){styleSheet.cssRules[i].style.cssText=t;return}}styleSheet.insertRule(e+"{"+t+"}",s)}}function g(e){for(var t in e){u(t,e[t])}}function y(e){var t=[];if(typeof e=="object"){for(var n in e){if(e[n]!=null){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}}}t.push("t="+Math.floor(Math.random()*1e3+1));return e=t.join("&")}function v(e){if(e.trim().length==0){return""}var t=e.split("&");var i={};t.forEach(function(e,t){var n=e.split("=");i[n[0]]=decodeURIComponent(n[1])});return i}function w(e,t){return e.getAttribute(t)}function E(e,t){var n;for(n in t){e.setAttribute(n,t[n])}}function x(e,t){return[].forEach.call(e,t)}String.prototype.toCamelCase=function(){return this.replace(/-(\w{1})/g,function(e,t){return t.toUpperCase()})};String.prototype.toUnicode=function(){return this.split("").map(function(e,t){return"\\u"+e.charCodeAt().toString(16)}).join("")};var C={isIE:!!window.ActiveXObject||"ActiveXObject"in window,detail:function(){var e=window.navigator.userAgent.toLowerCase();var t={};var n=[];(n=e.match(/msie ([\d\.]+)/))?t={name:"ie",version:n[1]}:(n=e.match(/opr\/([\d\.]+)/))?t={name:"opera",version:n[1]}:(n=e.match(/firefox\/([\d\.]+)/))?t={name:"firefox",version:n[1]}:(n=e.match(/version\/([\d\.]+).*safari/))?t={name:"safari",version:n[1]}:(n=e.match(/chrome\/([\d\.]+)/))?t={name:"chrome",version:n[1]}:0;return t}(),isSupportCss:function(e){if(!e)return false;var t=e.toCamelCase();var n=document.getElementsByTagName("div")[0];return t in n.style},isSupportCalc:function(){var e;var t=document.createElement("div");t.style["width"]="calc(1px + 1px)";e=t.style["width"];t=null;return e=="calc(2px)"},isSupportVWVH:function(){var e;var t=document.createElement("div");t.style["width"]="1vw";e=t.style["width"];t=null;return e=="1vw"}};var b={encode:function(e){if(d(window.btoa)){A("window.btoa is not defined")}return window.btoa(window.encodeURIComponent(e))},decode:function(e){if(d(window.atob)){A("window.atob is not defined")}return window.decodeURIComponent(window.atob(e))}};function k(e){return(e||0).toLocaleString("en-US")}function B(e,t){var n;if(t instanceof Date){n=t}else{if(typeof t=="string"){t=t.trim();t=t.replace(/\/Date\((\d+)\)\//g,"$1");t=+t==t?+t:t}else if(typeof t=="number"){t=isNaN(t)?0:t}else{t=0}if(typeof t=="string"&&t!=t+""){var i=t.split(/[- : \/]/);n=new Date(i[0],i[1]-1,i[2],i[3],i[4],i[5])}else{n=new Date(t)}n=n=="Invalid Date"?new Date(0):n}if(e=="timestamp")return Date.parse(n);var r={"M+":n.getMonth()+1,"D+":n.getDate(),"h+":n.getHours()%12==0?12:n.getHours()%12,"H+":n.getHours(),"i+":n.getMinutes(),"s+":n.getSeconds(),"q+":Math.floor((n.getMonth()+3)/3),ms:n.getMilliseconds()};var o={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};if(/(Y+)/.test(e)){e=e.replace(RegExp.$1,(n.getFullYear()+"").substr(4-RegExp.$1.length))}if(/(W+)/.test(e)){e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+o[n.getDay()+""])}for(var a in r){if(new RegExp("("+a+")").test(e)){e=e.replace(RegExp.$1,RegExp.$1.length==1?r[a]:("00"+r[a]).substr((""+r[a]).length))}}return e}function T(e){e=e+"";if(/^\d+$/g.test(e)){return e}else{var i={B:1,K:1024,M:1048576,G:1073741824,T:1099511627776};return e.toUpperCase().replace(/^(\d+)([B|K|M|G|T]){1}$/g,function(e,t,n){return t*i[n]})-0}}function S(e,t){var n=d(t)?document:t;if(!!n.querySelectorAll){var i=n.querySelectorAll(e);var r=i.length==0?null:i;return r}else{A("The querySelectorAll of '"+n+"' is not function")}}function D(r,e){r.innerHTML+=e;var n=r.getElementsByTagName("SCRIPT"),i=[];[].forEach.call(n,function(e,t){var n=document.createElement("script");if(e.type)n.type=e.type;if(e.src)n.src=e.src;if(e.innerHTML)n.innerHTML=e.innerHTML;i.push(n)});i.forEach(function(e,t){n[t].remove();r.appendChild(e)});var t=r.getElementsByTagName("STYLE"),o=[],a="";var s=t[0];var l=false;var c=Date.parse(new Date);if(s.dataset.hasOwnProperty("scoped")){l=true}[].forEach.call(t,function(e,t){var n=document.createElement("style");a+=e.innerText.replace(/(\n|\t|\r)/g,"");e.remove()});var f=a.split("}");f.forEach(function(e,t){var n=e&&e.split("{");if(e){if(l){var i=r.getElementsByTagName("template")[0];[].forEach.call(i.content.querySelectorAll(n[0]),function(e,t){e.dataset["v-"+c]=""});u(n[0]+"[data-v-"+c+"]",n[1])}else{u(n[0],n[1])}}})}function I(e){return(e+"").replace(/<\/?([^>]\s?)+>/g,"").trim().replace(/\n|\r|\t/g,"")}function M(e,t){if(!!window.getComputedStyle){return window.getComputedStyle(e,null)[t]}else{return e.currentStyle[t]}}function R(e,t){var n;for(n in t){e.style[n]=t[n]}}var L={};function O(e,t){var n=l(this)?this:document;var i=new CustomEvent(e,{detail:t});n.dispatchEvent(i)}function j(t,n,e){var i=l(this)?this:document;!m(L[t])&&(L[t]=[]);if(e==1){var r=function(e){n(e);i.off(t)};L[t].push(r);i.addEventListener(t,r,false)}else{L[t].push(n);i.addEventListener(t,n,false)}}function Q(e,t){var n=l(this)?this:document;n.on(e,t,1)}function H(n,e){var i=l(this)?this:document;var t=L[n].indexOf(e);if(p(e)&&t!=-1){var t=L[n].indexOf(e);t>=0&&L[n].splice(t,1);i.removeEventListener(n,e,false)}else{L[n].forEach(function(e,t){i.removeEventListener(n,e,false)})}delete L[n]}var N={tip:{".k_tipbox":"                position:fixed;                top:0;                right:20px;                max-height:100%;                overflow-y:auto;                overflow-x:hidden;            ",".k_tip":"                width:300px;                min-height:40px;                margin: 5px 0;                padding:20px 15px;                border-radius:2px;                box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12);                font-size:12px;                 color:#fff;                opacity:0;                animation:opacityA 0.5s ease,opacityB 0.5s ease 5s;                animation-fill-mode:forwards;            ",".info":"                background-color:rgb(79, 138, 255);            ",".ok":"                background-color:rgb(57, 169, 36);            ",".warn":"                background-color:rgb(247, 194, 45);            ",".error":"                background-color:rgb(216, 11, 11);            ","@keyframes opacityA":"                0%{                    opacity:0;                }                100%{                    opacity:1;                }            ","@keyframes opacityB":"                0%{                    opacity:1;                }                100%{                    opacity:0;                }            "},alert:{".k_mask":"                position:fixed;                top:0;                left:0;                width:100%;                height:100%;                background-color:rgba(0,0,0,0.5);                z-index:9;            ",".k_alert":"                position:fixed;                top:5%;left:50%;                width:500px;                padding:15px;                transform:translate(-50%,0);                border-radius:3px;                background-color:#fff;                color:#333;                z-index:10;                opacity:0;                animation:slideDown 0.3s ease-in-out;                animation-fill-mode:forwards;            ",".k_alert.hide":"                animation:slideUp 0.3s ease-in-out;                animation-fill-mode:forwards;            ",".k_alert>.main_closebtn":"                position:absolute;                top:10px;right:20px;                font-size:2rem;                color:#7d7979;                cursor:pointer;                -webkit-transition:all ease 0.3s;                transition:all ease 0.3s;            ",".k_alert>.main_closebtn:hover":"                -webkit-transform:scale(1.2);                transform:scale(1.2);            ",".k_alert>.main_head":"                margin:10px 0;                font-size:1rem;            ",".k_alert>.main_body":"                margin:20px 0;                font-size:0.7rem;            ",".k_alert>.main_foot":"                text-align:right;            ",".k_alert>.main_foot>.foot_btn":"                display:inline-block;                margin:10px;                padding:5px 15px;                border:1px solid #538BDB;                border-radius:3px;                text-align:center;                color:#538BDB;                -webkit-transition:all ease 0.3s;                transition:all ease 0.3s;                cursor:pointer;            ",".k_alert>.main_foot>.foot_btn.yes:hover":"                background-color:#1f74ec;                color:#fff;            ","@keyframes slideDown":"                0%{                    top:0;                    opacity:0;                }                100%{                    top:5%;                    opacity:1;                }            ","@keyframes slideUp":"                0%{                    top:5%;                    opacity:1;                }                100%{                    top:0;                    opacity:0;                }            "},lay:{".k_container":"                position: fixed;                top: 50%;                left: 50%;                -webkit-transform: translate(-50%,-50%);                transform: translate(-50%,-50%);            ",".k_backscreen":"                position: absolute;                top: 0;                left: 0;                right: 0;                bottom: 0;                width: 100%;                height: 100%;                background-color: rgba(0,0,0,0);                z-index: 99            ",".k_loadpic":"                position: absolute;                top: 50%;                left: 50%;                -webkit-transform: translate(-50%,-50%);                transform: translate(-50%,-50%);            ",".k_message":"                padding:10px 15px;                text-align:center;                background-color:rgba(0,0,0,0.15);                color:#fff;                border-radius: 2px;            "}};var U={tip:{isCanCreate:true,limit:10,isInsertedStyle:false},alert:{eq:0,isInsertedStyle:false},lay:{isInsertedStyle:false,index:-1,targetDOMArr:[],loadElemObj:{},imgSrc:"data:image/gif;base64,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",getDOMById:function(e){return document.getElementById(e)},close:function(e){var t=U.lay.getDOMById(e);if(!!t){t.remove();delete U.lay.loadElemObj[e]}if(U.lay.targetDOMArr.length>0){U.lay.targetDOMArr.forEach(function(e,t){e.setCss({position:e.dataset.stylePos})})}},closeAll:function(){var e=this;for(var t in U.lay.loadElemObj){e.close(t)}U.lay.index=-1}}};function F(e,t){if(!U.tip.isCanCreate)return;var n=["info","ok","error","warn"],i=document.body,r=S("#kTipBox"),o=r&&r[0]||document.createElement("div"),a=document.createElement("div");n.indexOf(t)==-1?t="info":0;!U.tip.isInsertedStyle&&g(N.tip);U.tip.isInsertedStyle=true;o.id="kTipBox";o.className="k_tipbox";a.className="k_tip "+t;a.innerText=e;o.appendChild(a);!r&&i.appendChild(o);a.addEventListener("animationend",function(){var e=getComputedStyle(this,null)["opacity"];if(e==0){this.remove();if(!o.hasChildNodes()){o.remove();U.tip.isCanCreate=true}}});var s=o.childElementCount;U.tip.isCanCreate=s>=U.tip.limit?false:true}function $(e,t){var n=document.body,i=S("#kMask"),r=document.createElement("div"),o=document.createElement("div");!U.alert.isInsertedStyle&&g(N.alert);U.alert.isInsertedStyle=true;r.id="kMask";r.className="k_mask";o.className="k_alert";o.innerHTML='            <div class="main_closebtn">&times;</div>            <div class="main_head">                <p class="head_title">'+(location.host||"此网页")+'} 显示：</p>            </div>            <div class="main_body">${content}</div>            <div class="main_foot">                <div class="foot_btn yes">确定</div>            </div>';n.appendChild(o);!i&&n.appendChild(r);var a=S(".main_closebtn")[U.alert.eq],s=S(".foot_btn.yes")[U.alert.eq];a.addEventListener("click",function(){o.classList.add("hide")});s.addEventListener("click",function(){o.classList.add("hide");t&&t()});o.addEventListener("animationend",function(){if(o.classList.contains("hide")){r.remove();o.remove();U.alert.eq--}});U.alert.eq++}function q(e,t){this.el=e||0;this.config=t||{};this.elem=this.el===0?document.body:document.querySelectorAll(e)[0];!U.lay.isInsertedStyle&&g(N.lay);U.lay.isInsertedStyle=true}q.prototype.open=function(e){var t=this;U.lay.index++;t.flag="L"+U.lay.index;var n=document.createElement("div");n.id=t.flag;n.className="k_container";switch(e.type){case 3:var i=document.createElement("img");n.className="k_backscreen";i.className="k_loadpic";i.src=U.lay.imgSrc;i.alt="loading-pic";i.title="loading";if(t.el===0){n.setCss({position:"fixed"})}else{var r=t.elem.getCss("position");if(!r||r=="static"){t.elem.dataset.stylePos=r;t.elem.setCss({position:"relative"})}}if(t.config.shade){n.setCss({backgroundColor:"rgba(0,0,0,"+t.config.shade+")"})}n.appendChild(i);break;case 4:var o=document.createElement("p");o.className="k_message";o.innerHTML=e.content||" ";if(t.config.shade){o.setCss({backgroundColor:"rgba(0,0,0,"+t.config.shade+")"})}n.appendChild(o);break;default:return 0;break}t.elem.appendChild(n);U.lay.loadElemObj[t.flag]=n;clearTimeout(t.timer);if(t.config.time>0){t.timer=setTimeout(function(){U.lay.close(t.flag);clearTimeout(t.timer)},t.config.time)}U.lay.targetDOMArr.push(t.elem);return t.flag};var _={load:function(e,t){return new q(e,t).open({type:3})},msg:function(e){return new q(0,{time:2e3,shade:.6}).open({type:4,content:e})},close:function(e){var t=setTimeout(function(){U.lay.close(e);clearTimeout(t)},100)},closeAll:U.lay.closeAll};var Y={common:{AJAX_NATIVE:false,makeAuth:function(){return{}}},http2:{requestArr:[]},setting:{isDoErrorCallback:true}};function G(){}G.prototype.parse=function(e){var t=this;var n=e+"",i="",r="",o="",a="",s="",l="",c="",f="",u="",d="",p={},m="";r=/^(https?):/g.exec(n);r=!!r?r[1]:"";n=n.replace(r,"");l=/(([^\s\/\?#]+\.)+([^#\?\/]+))/g.exec(n);l=!!l?l[1]:"";i=l;if(l.indexOf("@")!=-1){l=l.replace(/.+\@(.+)/,"$1");o=i.replace("@"+l,"").split(":");a=o[0];s=o[1]}c=/:(\d+)/g.exec(l);c=!!c?c[1]:"";f=l.replace(":"+c,"");n=n.replace(i,"");u=/((\/[^\/\?#]+)+)/g.exec(n);u=!!u?u[1]:"";n=n.replace(u,"");d=/\?([^#]+)/g.exec(n);d=!!d?d[1]:"";n=n.replace("?"+d,"");m=/#([^#]+)$/g.exec(n);m=!!m?m[1]:"";p=v(d);return{protocol:r,username:a,password:s,host:l,port:c,hostname:f,pathname:u,search:d,query:p,hash:m}};function z(e,t,n,i){if(p(t)){n=arguments[1];i=arguments[2]}else{if(t){e+="?"+y(t)}}var r="jsonpCallback"+Math.floor(Math.random()*100+1);var o=document.createElement("script");o.type="text/javascript";document.body.appendChild(o);window[r]=function(e){n&&n(e)};o.addEventListener("load",function(e){o.remove()});o.addEventListener("error",function(e){i&&i("JSONP is failed");o.remove()});o.src=e+"&callback="+r}function J(i){if(d(Promise)){A("Your browser didn't support 'Promise'");return}var r=!d(XMLHttpRequest)?new XMLHttpRequest:new ActiveXObjcet("Microsoft.XMLHTTP"),o=i.data||null;new Promise(function(e,t){i.url=i.url||"/";i.method=i.method||"GET";i.data=i.data||null;i.user=i.user||null;i.password=i.password||null;i.responseType=i.responseType||"json";i.timeout=i.timeout||0;!s(i.processData)?i.processData=true:0;!s(i.contentType)?i.contentType=true:0;if(o instanceof FormData){i.processData=false;i.contentType=false}if(i.processData)o=y(o);if(i.responseType.toLowerCase()=="jsonp"){z(i.url,i.data,e,t);return false}if(i.method.toUpperCase()=="GET"){i.url+="?"+o;o=null}r.open(i.method,i.url,true,i.user,i.password);r.responseType=i.responseType;i.isAuth=d(i.isAuth)?false:!!i.isAuth;i.isAuth&&(i.headers["common"]=Y.common.makeAuth());if(i.headers){for(var n in i.headers){r.setRequestHeader(n,i.headers[n])}}if(i.contentType&&i.method&&i.method.toUpperCase()=="POST"){r.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}r.timeout=i.timeout;r.addEventListener("readystatechange",function(){if(this.readyState==4){if(this.status==200){i.complete&&i.complete();i.success&&i.success(this.response);e(this.response)}else{i.complete&&i.complete();i.error&&i.error(this.status+" "+this.statusText);t(this.status+" "+this.statusText)}}});r.send(o);r.cancel=r.abort});return r}J.get=function(e){e.method="GET";return J(e)};J.post=function(e){e.method="POST";return J(e)};function K(t){if(d(axios)){A("This library relies on axios");return 0}if(arguments.length==0){return 0}if(o(t)!="Object"||Object.keys(t).length==0){A("参数类型不是对象或为空对象");return 0}t.url=t.url||"/";if(!t.method||t.method.toUpperCase()==="GET"){t.params=t.data;delete t.data}t.headers=t.headers||{};t.isAuth=d(t.isAuth)?false:!!t.isAuth;t.isAuth&&(t.headers["common"]=Y.common.makeAuth());var e=axios.CancelToken.source();t.cancelToken=e.token;Y.http2.requestArr.push(e);window.cancelAllXHR=Y.http2.requestArr;if(t.cancelAllRequest&&t.cancelAllRequest==true){if(Y.http2.requestArr.length>0){Y.http2.requestArr.pop();Y.http2.requestArr.forEach(function(e,t){e.cancel()});Y.http2.requestArr=[]}}t.timeout=t.timeout||30*1e3;t.responseType=t.responseType||"json";if(t.responseType&&t.responseType.toLowerCase()=="jsonp"){z(t.url,t.data,t.success,t.error);return false}axios(t).then(function(e){t.complete&&t.complete();t.success&&t.success(e.data)}).catch(function(e){t.complete&&t.complete();if(e!="Cancel"){if(p(t.error)&&Y.setting.isDoErrorCallback){t.error(e)}else{console.error(e)}}});return e}K.getJSON=J.getJSON=z;if(!Y.common.AJAX_NATIVE){if(d(axios)){console.warn("This lib need axios.js\nDownload: https://cdnjs.cloudflare.com/ajax/libs/axios/0.17.1/axios.min.js")}else{J=K;J._source="axios"}}var X={fileData:{},verifyRule:{number:[/^\d+$/,"请输入数字，旁友！"],email:[/^([a-zA-Z0-9_\-])+\@(([a-zA-Z0-9_\-])+\.)+([a-zA-Z0-9_\-]){2,4}$/,"请输入合法格式的邮箱！"],phone:[/^1[3|5|7|8]\d{9}$/,"请输入合法格式的手机号！"],tellphone:[/^\d{3}\d?\-\d{7}\d?(\-\d{4})?$/,"请输入电话号码"],year:[/^\d{4}$/,"旁友，不是合法格式的年份，好伐！"],date:[/^\d{4}([\-\/])([1-9]|0[1-9]|1[0-2])\1(\d|0\d|[1-2][0-9]|3[0-1])$/,"请输入合法格式的日期！"],url:[/(^#)|(^http(s?)\:\/\/([^\s\.]+\.)+([^\s\.])+$)/,"请输入合法url地址！"],idcard:[/(^\d{15}$)|(^\d{17}[x|X|\d]$)/,"请输入合法身份证！"]},verifyMaxLen:[]};function W(e,t,n){var i,r="imgTmp",o;var a=function(e){o=new Image;o.src=i;o.id=r;o.onload=function(){n&&n(o)}};if(typeof FileReader!=="undefined"){var s=new FileReader;s.onload=function(e){var t=e||window.event,n=t.target||t.srcElement;i=n.result;a(i)};s.readAsDataURL(e)}else if(typeof URL!=="undefined"){i=window.URL.createObjectURL(e.files[0]);a(i)}else{e.select();i=document.selection.createRange().text;t.innerHTML="";t.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true',sizingMethod='scale',src=\""+i+'")';n&&n(t)}}function V(){}V.prototype.upload=function(a){var s=this,l={},c=false;s.setting=a;s.ele=S(a.el)[0];s.file=null;if(a.accept&&a.accept.length>0){s.ele.accept=a.accept.map(function(e,t){return n[e]||""}).join(",")}s.ele.addEventListener("change",function(e){var t=e||window.event,n=t.target||t.srcElement;s.file=n.files[0];X.fileData[a.el]=s.file;if(typeof a.onFileChange==="function"){a.onFileChange(s.file)}if(s.file){c=true;if(!!a.accept){a.accept=a.accept.map(function(e,t,n){if(e==="img*"){e="image"}return e=="jpeg"?"jpg":e});var i=new RegExp("\\.("+a.accept.join("|")+")$","g");if(!i.test(s.file.name)){c=false;if(s.file.type.indexOf("image")!==-1){if(a.accept.indexOf("image")!==-1){c=true}}if(!c){a.acceptError&&a.acceptError();return false}}else{c=true}}if(s.file.size==0){a.sizeError&&a.sizeError(0);c=false;return false}else{if(!!a.maxSize){if(s.file.size>T(a.maxSize)){a.sizeError&&a.sizeError(1);c=false;return false}else{c=true}}}if(c&&a.previewBox){var r=S(a.previewBox)[0];var o=function(e){r.innerHTML="";r.appendChild(e);a.previewCallBack&&a.previewCallBack(e,l)};W(s.file,r,function(e){if(a.scale&&a.scale.length==2){if(e.width>=a.scale[0]&&e.height>=a.scale[1]&&e.height<=window.innerHeight){c=true;o(e)}else{a.scaleError&&a.scaleError();c=false;return false}}else{o(e)}})}}else{s.file=null;c=false}});if(a.btn&&a.url){var e=S(a.btn)[0];e.addEventListener("click",function(){if(!s.file)console.log("%c没有选择文件哦","font-size:18px;color:#f00;");var e=true;var t=new FormData;if(typeof a.onBeforeSend==="function"){e=a.onBeforeSend(l)}if(e){if(f(a.data)&&Object.keys(a.data).length>0){for(key in a.data){t.append(key,a.data[key])}}else{t.append("data_"+Date.parse(new Date),a.data)}if(f(l)&&Object.keys(l).length>0){for(key in l){t.append(key,l[key])}}if(c){t.append("file",s.file)}else{if(typeof a.sendNull==="function"){return a.sendNull()}}J({url:a.url,method:"POST",data:t,processData:false,contentType:false,success:function(e){c=false;a.success&&a.success(e)},error:function(e){a.error&&a.error(e)},isAuth:false})}})}return s};V.prototype.submit=function(e,t){var n=this;var i=null;if(p(e)){t=e;i=n}else if(m(e)){i=e}else{A("参数类型错误");return false}t&&t(i);return n};function P(e){this.form=S(e)[0];this.verifyELes;this.isHTMLForm=o(this.form)=="HTMLFormElement"}P.prototype.submit=function(t){var n=this,e=S("[k-submit]",n.form)[0],i=!n.isHTMLForm?S("[name]",n.form):[],r=null,c={},o={},a=[],f=0,u="";n.verifyELes=S("[k-verify]",n.form);e.addEventListener("click",function(){a=[];x(n.verifyELes,function(r,e){var o=r.value.trim(),t=w(r,"k-verify").split("|"),n=t.indexOf("required"),i=t.join(",").indexOf("len["),a=n!=-1?true:false,s=i!=-1?true:false;if(a){t.splice(n,1)}if(s){f=t[i].replace(/len\[(\d+)\]/,"$1");u="len_"+f;t[i]=u;if(X.verifyMaxLen.indexOf(f)==-1){X.verifyMaxLen.push(f);var l={};l[u]=function(e,t){if(e.length>f){return"最多输入"+f+"个字符！"}};ee.verify(l)}}t.forEach(function(e,t){var n=X.verifyRule[e];d(n)?A("没有找到 '"+e+"' 这个验证规则"):0;if(o.length==0){if(a){F("这个字段必填，不要闹啊！","info");r.focus();c[e]=false}}else{if(m(n)){if(!n[0].test(o)){F(n[1],"error");c[e]=false}else{c[e]=true}}else if(p(n)){var i=n(o,r);if(h(i)){F(i,"error");c[e]=false}else{c[e]=true}}}})});for(var e in c){a.push(c[e])}if(a.indexOf(false)==-1){r=null;if(n.isHTMLForm){r=new FormData(n.form)}else{r=new FormData;x(i,function(e,t){if(e.type!=="radio"&&e.type!=="checkbox"){r.append(e.name,e.value.trim())}else{e.checked&&r.append(e.name,e.value.trim())}})}t&&t(r,c)}})};var Z={upload:function(e){return(new V).upload(e)},submit:V.prototype.submit};var ee=function(e){return new P(e)};ee.verify=function(e){var t;for(t in e){if(t in X.verifyRule&&t!="len"){$("此 '"+t+"' 验证规则已存在，请换个名字！");A("此 '"+t+"' 验证规则已存在！")}else{X.verifyRule[t]=e[t]}}};var te={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,i,r,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e)){return false}var a="";if(n){switch(n.constructor){case Number:a=n===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString();break}}document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(r?"; domain="+r:"")+(i?"; path="+i:"")+(o?"; secure":"");return true},removeItem:function(e,t,n){if(!e||!this.hasItem(e)){return false}document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:"");return true},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/);for(var t=0;t<e.length;t++){e[t]=decodeURIComponent(e[t])}return e}};c(window,"docCookies",te);var ne=document.createEvent("CustomEvent");c(window,"_export",function(e){ne.initCustomEvent("comploaded",true,true,e);document.dispatchEvent(ne)});c(window,"_import",function(t){document.addEventListener("comploaded",function(e){t&&t(e.detail);this.removeEventListener("comploaded",arguments.callee)},false)});var ie=function(e){if(!(this in ie)){return new ie.fn.init(e)}};ie.fn=ie.prototype={constructor:ie};ie.fn.init=function(e){var n=this;this.eles=[];if(!h(e))return;var t=S(e);if(t&&t.length>1){[].forEach.call(t,function(e,t){n.eles.push(e)})}else{t.length==1&&n.eles.push(t)}for(var i in this.eles){ie.fn[i]=this.eles[i]}};ie.fn.init.prototype=ie.fn;ie.$extend=ie.fn.extend=function(e){var t=this;if(f(e)){var n;for(n in e){if(!(n in t)){c(t,n,e[n])}else{A("This method or property is existed")}}}};ie.$extend({$base64:b,$toThousands:k,$toFormatDate:B,$toByte:T,$browser:C,$isIE:C.isIE,$urlParse:function(e){if(!window._Url){window._Url=new G}return window._Url.parse(e)},$params:{serialize:y,reSerialize:v},$getDOM:S,$parseHTML:D,$filterHTML:I,$getCssStyle:M,$setCssStyle:R,$emit:O,$on:j,$one:Q,$off:H,$tip:F,$alert:$,$layer:_,$http:K,$ajaxSetting:Y.setting,$file:Z,$mime:n,$form:ee,$cookie:te});return ie});